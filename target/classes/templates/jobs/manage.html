<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">
<head th:replace="fragments/header :: head('My Jobs')"></head>
<body>
<header th:replace="fragments/header :: navbar"></header>
<main class="content">
    <div class="shell">
        <section class="hero">
            <p class="muted">My openings</p>
            <h1>Jobs I posted</h1>
            <p class="muted">Quickly audit statuses and dive into applications.</p>
        </section>
        <section class="grid">
            <article class="card" th:each="job : ${jobs}">
                <div class="card-head">
                    <div>
                        <h2 th:text="${job.title}">Job</h2>
                        <p class="muted" th:text="${job.location}">Location</p>
                    </div>
                    <span class="tag" th:text="${job.status}">OPEN</span>
                </div>
                <div class="card-actions">
                    <a th:href="@{'/jobs/' + ${job.id}}" class="button ghost">View</a>
                    <a th:href="@{'/jobs/' + ${job.id} + '/edit'}" class="button ghost">Edit</a>
                    <a th:href="@{'/jobs/' + ${job.id} + '/applications'}" class="button ghost">Applications</a>
                    <form th:action="@{'/jobs/' + ${job.id} + '/delete'}" method="post">
                        <input type="hidden" th:name="${_csrf.parameterName}" th:value="${_csrf.token}">
                        <button type="submit" class="button">Delete</button>
                    </form>
                </div>
            </article>
            <p th:if="${#lists.isEmpty(jobs)}" class="muted">No jobs posted yet.</p>
        </section>
    </div>
</main>
<footer th:replace="fragments/footer :: footer"></footer>
</body>
</html>
